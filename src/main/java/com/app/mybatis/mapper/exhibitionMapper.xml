<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="exhibition">

	<!-- 대학교 전시회 메인 -->
	<select id="selectUniversityExhibitionList" resultType="UniversityExhibitionDTO">
		SELECT TBU.UNIVERSITY_NAME, TBU.UNIVERSITY_LOGO_IMG_NAME, TBU.UNIVERSITY_LOGO_IMG_PATH,
			TBE.UNIVERSITY_EXHIBITION_DATE, TBE.UNIVERSITY_EXHIBITION_STATE, TBE.UNIVERSITY_EXHIBITION_TITLE, TBE.UNIVERSITY_EXHIBITION_LOCATION,
			TBM.MAJOR_NAME 
        FROM TBL_UNIVERSITY TBU
        JOIN TBL_MAJOR TBM 
        ON TBM.UNIVERSITY_ID = TBU.ID
        JOIN TBL_UNIVERSITY_EXHIBITION TBE
        ON TBE.MAJOR_ID = TBM.ID
        ORDER BY TBE.UNIVERSITY_EXHIBITION_DATE DESC
	</select>
	
	
	<!-- 대학교 전시회 리스트 조회 -->
	<select id="selectUniversityExhibition" resultType="MajorDTO" >
		SELECT TBU.ID,TBU.UNIVERSITY_NAME,TBU.UNIVERSITY_LOGO_IMG_NAME, TBU.UNIVERSITY_LOGO_IMG_PATH,
			TBU.UNIVERSITY_HOMEPAGE, TBM.MAJOR_NAME, TBE.UNIVERSITY_EXHIBITION_DATE, TBE.UNIVERSITY_EXHIBITION_STATE,TBE.UNIVERSITY_EXHIBITION_LOCATION,
			TBE.UNIVERSITY_EXHIBITION_TITLE 
		FROM TBL_UNIVERSITY TBU
		JOIN TBL_MAJOR TBM
		ON TBU.ID = TBM.ID
		JOIN TBL_UNIVERSITY_EXHIBITION TBE
		ON TBU.ID = TBE.MAJOR_ID
	</select>

	
	<!-- 대학교 등록 양식 조회 -->
	<select id="selectUniversityForm" resultType="MajorDTO">
		SELECT TBU.ID, TBU.UNIVERSITY_NAME, TBU.UNIVERSITY_LOCATION, TBU.UNIVERSITY_HOMEPAGE,
			TBM.MAJOR_NAME, TBE.UNIVERSITY_EXHIBITION_DATE
		FROM TBL_UNIVERSITY TBU
		JOIN TBL_MAJOR TBM
		ON TBU.ID = TBM.UNIVERSITY_ID
		JOIN TBL_UNIVERSITY_EXHIBITION TBE
		ON TBU.ID = TBE.ID;
	</select>
	
</mapper>